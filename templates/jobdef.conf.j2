###############################
## Auto-generated by:        ##
##         Ansible           ##
## Don't do changes by hand  ##
## Role: matiferrigno.bacula ##
###############################

JobDefs {
  Name = GenericBackupDef
  Type = Backup
  {% if bacula_messages_telegram_enabled|bool %}
  RunScript {
     Command = "/etc/bacula/scripts/_send_telegram.sh %i"
     RunsWhen = After
     RunsOnFailure = yes
     RunsOnClient = no
     RunsOnSuccess = yes # default, you can drop this line
  }
  {% endif %}
  Max Wait Time = 3600
  Priority = 20
}

JobDefs {
  Name = GenericRestoreDef
  Type = Restore
  {% if bacula_messages_telegram_enabled|bool %}
  RunScript {
     Command = "/etc/bacula/scripts/_send_telegram.sh %i"
     RunsWhen = After
     RunsOnFailure = yes
     RunsOnClient = no
     RunsOnSuccess = yes # default, you can drop this line
  }
  {% endif %}
  Where = /tmp
}

########################################
## Include all JobDefs configuration  ##
########################################
@|"find /etc/bacula/jobdef.d -name '*.conf' -type f -exec echo @{} \;"
